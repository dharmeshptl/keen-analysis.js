{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/keen-core/lib/utils/each.js","webpack:///./node_modules/keen-core/lib/utils/extend.js","webpack:///./node_modules/keen-core/lib/utils/serialize.js","webpack:///./lib/utils/http-browser.js","webpack:///./lib/request.js","webpack:///./node_modules/component-emitter/index.js","webpack:///./node_modules/keen-core/lib/utils/parse-params.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/keen-core/lib/index.js","webpack:///./lib/index.js","webpack:///./lib/browser.js"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","cb","Array","length","target","arguments","prop","each","data","query","key","JSON","stringify","push","encodeURIComponent","join","GET","config","callback","fetch","sendFetch","xhrObject","sendXhr","xdrObject","sendXdr","url","timestamp","Date","getTime","scriptTag","document","createElement","parent","getElementsByTagName","callbackName","loaded","response","handleResponse","params","_serialize2","default","b","undefined","e","removeChild","onreadystatechange","this","readyState","onerror","src","appendChild","sendJsonp","POST","console","log","PUT","DELETE","method","self","headers","api_key","_each2","body","mode","then","ok","json","responseJSON","Promise","reject","error_code","message","status","statusText","resolve","XMLHttpRequest","ActiveXObject","location","protocol","xhr","parse","responseText","open","setRequestHeader","send","XDomainRequest","xdr","timeout","ontimeout","onload","toLowerCase","setTimeout","request","getAnalysisType","httpHandlers","str","Authorization","Content-type","bind","split","auth","obj","_typeof","num","httpHandler","httpOptions","_extend2","analysis_type","indexOf","onCancel","httpRequest","err","res","augmentedResponse","event_collection","abort","Emitter","mixin","on","addEventListener","event","fn","_callbacks","once","off","apply","removeListener","removeAllListeners","removeEventListener","callbacks","splice","emit","args","slice","len","listeners","hasListeners","match","urlParams","pl","search","decode","decodeURIComponent","replace","exec","g","Function","eval","global","env","previousKeen","Keen","extend","parseParams","serialize","Client","props","configure","debug","isDefined","resources","legacyVersion","enabled","version","helpers","base","projects","projectId","events","queries","datasets","utils","extendLibrary","source","previous","noConflict","ready","writeKey","host","requestType","navigator","userAgent","masterKey","String","path","baseUrl","arg","DOMContentLoaded","testDom","test","domReady","Query","analysisType","analysis","set","timezone","getTimezoneOffset","KeenLibrary","readKey","q","post","run","output","promises","all","attributes","v","k","RegExp","$1","dv","index","deepValue","deepKey","_deepKey","attribute","addFilter","operator","filters","property_name","property_value","KeenAnalysis","put","del"],"mappings":"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","file":"keen-analysis.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","module.exports = each;\n\nfunction each(o, cb, s){\n  var n;\n  if (!o){\n    return 0;\n  }\n  s = !s ? o : s;\n  if (o instanceof Array){\n    // Indexed arrays, needed for Safari\n    for (n=0; n<o.length; n++) {\n      if (cb.call(s, o[n], n, o) === false){\n        return 0;\n      }\n    }\n  } else {\n    // Hashtables\n    for (n in o){\n      if (o.hasOwnProperty(n)) {\n        if (cb.call(s, o[n], n, o) === false){\n          return 0;\n        }\n      }\n    }\n  }\n  return 1;\n}\n","module.exports = extend;\n\nfunction extend(target){\n  for (var i = 1; i < arguments.length; i++) {\n    for (var prop in arguments[i]){\n      target[prop] = arguments[i][prop];\n    }\n  }\n  return target;\n};\n","var each = require('./each'),\n    extend = require('./extend');\n\nmodule.exports = serialize;\n\nfunction serialize(data){\n  var query = [];\n  each(data, function(value, key){\n    if ('string' !== typeof value) {\n      value = JSON.stringify(value);\n    }\n    query.push(key + '=' + encodeURIComponent(value));\n  });\n  return query.join('&');\n}\n","// import 'whatwg-fetch';\n\nimport each from 'keen-core/lib/utils/each';\nimport serialize from 'keen-core/lib/utils/serialize';\n\nexport const GET = get;\nexport const POST = post;\nexport const PUT = put;\nexport const DELETE = del;\n\n// HTTP Handlers\n// ------------------------------\n\nfunction get(config, callback){\n  if (typeof fetch !== 'undefined') {\n    return sendFetch('GET', config, callback);\n  }\n  else if (xhrObject()) {\n    return sendXhr('GET', config, callback);\n  }\n  else if (xdrObject()){\n    return sendXdr('GET', config, callback);\n  }\n  else {\n    return sendJsonp(config, callback);\n  }\n}\n\nfunction post(config, callback){\n  if (typeof fetch !== 'undefined') {\n    console.log(\"FETCHING\");\n    return sendFetch('POST', config, callback);\n  }\n  else if (xhrObject()) {\n    return sendXhr('POST', config, callback);\n  }\n  else if (xdrObject()){\n    return sendXdr('POST', config, callback);\n  }\n  else {\n    callback('XHR POST not supported', null);\n  }\n}\n\nfunction put(config, callback) {\n  if (typeof fetch !== 'undefined') {\n    return sendFetch('PUT', config, callback);\n  }\n  else if (xhrObject()) {\n    return sendXhr('PUT', config, callback);\n  }\n  else {\n    callback('XHR PUT not supported', null);\n  }\n}\n\nfunction del(config, callback) {\n  if (typeof fetch !== 'undefined') {\n    return sendFetch('DELETE', config, callback);\n  }\n  else if (xhrObject()) {\n    return sendXhr('DELETE', config, callback);\n  }\n  else {\n    callback('XHR DELETE not supported', null);\n  }\n}\n\n\nfunction sendFetch(method, config, callback = undefined){\n  const self = this;\n  const headers = {};\n  let url = config.url;\n\n  if (method == 'GET') {\n    url += '?';\n    if (config.api_key) {\n      url += 'api_key=' + config.api_key + '&';\n    }\n    if (config.params) {\n      url += serialize(config.params);\n    }\n  }\n\n  each(config.headers, function(value, key){\n    if (typeof value === 'string') {\n      headers[key] = value;\n    }\n  });\n\n  return fetch(url, {\n      method,\n      body: (method !== 'GET' && config.params) ? JSON.stringify(config.params) : undefined,\n      mode: 'cors',\n      headers\n    })\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return response.json().then(responseJSON => {\n        return Promise.reject({\n          error_code: responseJSON.error_code,\n          body: responseJSON.message,\n          status: response.status,\n          ok: false,\n          statusText: response.statusText\n        });\n      });\n    }).then(responseJSON => {\n      if (typeof callback !== 'undefined') {\n        callback.call(self, null, responseJSON);\n      }\n      return Promise.resolve(responseJSON);\n    });\n}\n\n// XMLHttpRequest Support\n// ------------------------------\n\nfunction xhrObject() {\n  const root = 'undefined' == typeof window ? this : window;\n  if (root.XMLHttpRequest &&\n       (\n         !root.ActiveXObject ||\n         (root.location && root.location.protocol\n           && 'file:' !== root.location.protocol)\n       )\n  ) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  return false;\n}\n\nfunction sendXhr(method, config, callback){\n  const xhr = xhrObject();\n  const cb = callback;\n  let url = config.url;\n\n  xhr.onreadystatechange = function() {\n    let response;\n    if (xhr.readyState == 4) {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        if (xhr.status === 204) {\n          if (cb) {\n            cb(null, xhr);\n          }\n        }\n        else {\n          try {\n            response = JSON.parse( xhr.responseText );\n            if (cb && response) {\n              cb(null, response);\n            }\n          }\n          catch (e) {\n            if (cb) {\n              cb(xhr, null);\n            }\n          }\n        }\n      }\n      else {\n        try {\n          response = JSON.parse( xhr.responseText );\n          if (cb && response) {\n            cb(response, null);\n          }\n        }\n        catch (e) {\n          if (cb) {\n            cb(xhr, null);\n          }\n        }\n      }\n    }\n  };\n\n  if (method !== 'GET') {\n    xhr.open(method, url, true);\n    each(config.headers, function(value, key){\n      if (typeof value === 'string') {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n    if (config.params) {\n      xhr.send( JSON.stringify(config.params) );\n    }\n    else {\n      xhr.send();\n    }\n  }\n  else {\n    url += '?';\n    if (config.api_key) {\n      url += 'api_key=' + config.api_key + '&';\n    }\n    if (config.params) {\n      url += serialize(config.params);\n    }\n    xhr.open(method, url, true);\n    each(config.headers, function(value, key){\n      if (typeof value === 'string') {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n    xhr.send();\n  }\n\n  return xhr;\n}\n\n\n// XDomainRequest Support\n// ------------------------------\n\nfunction xdrObject() {\n  const root = 'undefined' == typeof window ? this : window;\n  if (root.XDomainRequest) {\n    return new root.XDomainRequest();\n  }\n  return false;\n}\n\nfunction sendXdr(method, config, callback) {\n  const xdr = xdrObject();\n  let cb = callback;\n\n  if (xdr) {\n    xdr.timeout = config.timeout || 300 * 1000;\n\n    xdr.ontimeout = function () {\n      handleResponse(xdr, null);\n    };\n\n    xdr.onerror = function () {\n      handleResponse(xdr, null);\n    };\n\n    xdr.onload = function() {\n      var response = JSON.parse(xdr.responseText);\n      handleResponse(null, response);\n    };\n\n    xdr.open(method.toLowerCase(), config.url);\n\n    setTimeout(function () {\n      if (config['params']) {\n        xdr.send( serialize(config['params']) );\n      }\n      else {\n        xdr.send();\n      }\n    }, 0);\n  }\n\n  function handleResponse(a, b){\n    if (cb && typeof cb === 'function') {\n      cb(a, b);\n      callback = cb = void 0;\n    }\n  }\n\n  return xdr;\n}\n\n\n// JSON-P Support\n// ------------------------------\n\nfunction sendJsonp(config, callback){\n  let url = config.url;\n  let cb = callback;\n  const timestamp = new Date().getTime();\n  const scriptTag = document.createElement('script');\n  const parent = document.getElementsByTagName('head')[0];\n  let callbackName = 'keenJSONPCallback';\n  let loaded = false;\n\n  callbackName += timestamp;\n  while (callbackName in window) {\n    callbackName += 'a';\n  }\n\n  window[callbackName] = function(response) {\n    if (loaded === true) {\n      return;\n    }\n    handleResponse(null, response);\n  };\n\n  if (config.params) {\n    url += serialize(config.params);\n  }\n\n  // Early IE (no onerror event)\n  scriptTag.onreadystatechange = function() {\n    if (loaded === false && this.readyState === 'loaded') {\n      handleResponse('An error occurred', null);\n    }\n  };\n\n  // Not IE\n  scriptTag.onerror = function() {\n    // on IE9 both onerror and onreadystatechange are called\n    if (loaded === false) {\n      handleResponse('An error occurred', null);\n    }\n  };\n\n  scriptTag.src = url + '&jsonp=' + callbackName;\n  parent.appendChild(scriptTag);\n\n  function handleResponse(a, b){\n    loaded = true;\n    if (cb && typeof cb === 'function') {\n      cb(a, b);\n      callback = cb = void 0;\n    }\n    window[callbackName] = undefined;\n    try {\n      delete window[callbackName];\n    } catch(e){};\n    parent.removeChild(scriptTag);\n  }\n\n}\n","import each from 'keen-core/lib/utils/each';\nimport extend from 'keen-core/lib/utils/extend';\n\nexport default function request(method, httpHandlers){\n  this.httpHandlers = httpHandlers;\n  return function(str){\n    this.config = {\n      'api_key' : undefined,\n      'method'  : method,\n      'params'  : undefined,\n      'timeout' : 300 * 1000,\n      'url'     : str,\n      'headers' : {\n        'Authorization' : '',\n        'Content-type'  : 'application/json'\n      }\n    };\n    return this;\n  }.bind(this);\n}\n\nrequest.prototype.auth = function(str){\n  if (typeof str === 'string') {\n    this.config.api_key = typeof str === 'string' ? str : undefined;\n    this.headers({\n      'Authorization': str\n    });\n  }\n  return this;\n};\n\nrequest.prototype.headers = function(obj){\n  if (typeof obj === 'object') {\n    each(obj, function(value, key){\n      this.config['headers'][key] = value;\n    }.bind(this));\n  }\n  return this;\n};\n\nrequest.prototype.timeout = function(num){\n  this.config.timeout = typeof num === 'number' ? num : 300 * 1000;\n  return this;\n};\n\nrequest.prototype.send = function(obj){\n  this.config.params = (obj && typeof obj === 'object') ? obj : {};\n  const httpHandler = this.httpHandlers[this.config['method']];\n  const httpOptions = extend({}, this.config);\n\n  // Temporary mod to append analysis_type to responses\n  // for generic HTTP requests to known query resources\n  if (typeof httpOptions.params.analysis_type === 'undefined') {\n    if (httpOptions.url.indexOf('/queries/') > -1\n      && httpOptions.url.indexOf('/saved/') < 0) {\n        httpOptions.params.analysis_type = getAnalysisType(httpOptions.url);\n    }\n  }\n\n  return new Promise(function(resolve, reject, onCancel) {\n    const httpRequest = httpHandler(httpOptions, function(err, res){\n      let augmentedResponse = res;\n      if (err) {\n        reject(err);\n      }\n      else {\n        // Append query object to ad-hoc query results\n        if (typeof httpOptions.params.event_collection !== 'undefined'\n          && typeof res.query === 'undefined') {\n            augmentedResponse = extend({ query: httpOptions.params }, res);\n        }\n        resolve(augmentedResponse);\n      }\n    });\n    console.log(onCancel);\n    if (onCancel) {\n      console.log('ooo');\n      onCancel(function(){\n        if (httpRequest.abort) {\n          httpRequest.abort();\n        }\n      });\n    }\n    return httpRequest;\n  });\n};\n\nexport function getAnalysisType(str){\n  const split = str.split('/queries/');\n  return split[split.length-1];\n}\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","module.exports = parseParams;\n\nfunction parseParams(str){\n  // via: http://stackoverflow.com/a/2880929/2511985\n  var urlParams = {},\n      match,\n      pl     = /\\+/g,  // Regex for replacing addition symbol with a space\n      search = /([^&=]+)=?([^&]*)/g,\n      decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n      query  = str.split(\"?\")[1];\n\n  while (!!(match=search.exec(query))) {\n    urlParams[decode(match[1])] = decode(match[2]);\n  }\n  return urlParams;\n};\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","(function(env){\n  var previousKeen = env.Keen || undefined;\n  var each = require('./utils/each'),\n      extend = require('./utils/extend'),\n      parseParams = require('./utils/parse-params'),\n      serialize = require('./utils/serialize');\n\n  var Emitter = require('component-emitter');\n\n  function Client(props){\n    if (this instanceof Client === false) {\n      return new Client(props);\n    }\n    this.configure(props);\n\n    // Set up event handling\n    if (Client.debug) {\n      this.on('error', Client.log);\n    }\n    this.emit('ready');\n    Client.emit('client', this);\n  }\n\n  if (previousKeen && typeof previousKeen.resources === 'undefined') {\n    Client.legacyVersion = previousKeen;\n  }\n\n  Emitter(Client);\n  Emitter(Client.prototype);\n\n  extend(Client, {\n    debug: false,\n    enabled: true,\n    loaded: false,\n    version: '__VERSION__'\n  });\n\n  // Set or extend helpers\n  Client.helpers = Client.helpers || {};\n\n  // Set or extend resources\n  Client.resources = Client.resources || {};\n  extend(Client.resources, {\n    'base'      : '{protocol}://{host}',\n    'version'   : '{protocol}://{host}/3.0',\n    'projects'  : '{protocol}://{host}/3.0/projects',\n    'projectId' : '{protocol}://{host}/3.0/projects/{projectId}',\n    'events'    : '{protocol}://{host}/3.0/projects/{projectId}/events',\n    'queries'   : '{protocol}://{host}/3.0/projects/{projectId}/queries',\n    'datasets'  : '{protocol}://{host}/3.0/projects/{projectId}/datasets'\n  });\n\n  // Set or extend utils\n  Client.utils = Client.utils || {};\n  extend(Client.utils, {\n    'each'        : each,\n    'extend'      : extend,\n    'parseParams' : parseParams,\n    'serialize'   : serialize\n  });\n\n  Client.extendLibrary = function(target, source) {\n    var previous = previousKeen || source;\n    if (isDefined(previous) && isDefined(previous.resources)) {\n      each(previous, function(value, key) {\n        if (typeof value === 'object') {\n          target[key] = target[key] || {};\n          extend(target[key], value);\n        }\n        else {\n          target[key] = target[key] || value;\n        }\n      });\n      extend(target.prototype, previous.prototype);\n    }\n    return target;\n  };\n\n  Client.log = function(str){\n    if (Client.debug && typeof console === 'object') {\n      console.log('[Keen]', str);\n    }\n  };\n\n  Client.noConflict = function(){\n    if (typeof env.Keen !== 'undefined') {\n      env.Keen = Client.legacyVersion || previousKeen;\n    }\n    return Client;\n  };\n\n  Client.ready = function(fn){\n    if (Client.loaded) {\n      fn();\n    }\n    else {\n      Client.once('ready', fn);\n    }\n  };\n\n  Client.prototype.configure = function(obj){\n    var config = obj || {};\n    this.config = this.config || {\n      projectId    : undefined,\n      writeKey     : undefined,\n      host         : 'api.keen.io',\n      protocol     : 'https',\n      requestType  : 'jsonp',\n      resources    : extend({}, Client.resources)\n    };\n\n    // IE<10 request shim\n    if (typeof window !== 'undefined' && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1) {\n      config.protocol = document.location.protocol.replace(':', '');\n    }\n\n    if (config.host) {\n      config.host.replace(/.*?:\\/\\//g, '');\n    }\n\n    extend(this.config, config);\n    return this;\n  };\n\n  Client.prototype.masterKey = function(str){\n    if (!arguments.length) return this.config.masterKey;\n    this.config.masterKey = str ? String(str) : null;\n    return this;\n  };\n\n  Client.prototype.projectId = function(str){\n    if (!arguments.length) return this.config.projectId;\n    this.config.projectId = (str ? String(str) : null);\n    return this;\n  };\n\n  Client.prototype.resources = function(obj){\n    if (!arguments.length) return this.config.resources;\n    var self = this;\n    if (typeof obj === 'object') {\n      each(obj, function(value, key){\n        self.config.resources[key] = (value ? value : null);\n      });\n    }\n    return self;\n  };\n\n  Client.prototype.url = function(name){\n    var args = Array.prototype.slice.call(arguments, 1),\n        baseUrl = this.config.resources.base || '{protocol}://{host}',\n        path;\n\n    if (name && typeof name === 'string') {\n      if (this.config.resources[name]) {\n        path = this.config.resources[name];\n      }\n      else {\n        path = baseUrl + name;\n      }\n    }\n    else {\n      path = baseUrl;\n    }\n\n    each(this.config, function(value, key){\n      if (typeof value !== 'object') {\n        path = path.replace('{' + key + '}', value);\n      }\n    });\n\n    each(args, function(arg, i){\n      if (typeof arg === 'string') {\n        path += '/' + arg;\n      }\n      else if (typeof arg === 'object') {\n        path += '?';\n        each(arg, function(value, key){\n          path += key + '=' + value + '&';\n        });\n        path = path.slice(0, -1);\n      }\n    });\n\n    return path;\n  };\n\n  domReady(function(){\n    Client.loaded = true;\n    Client.emit('ready');\n  });\n\n  function domReady(fn){\n    if (Client.loaded || typeof document === 'undefined') {\n      fn();\n      return;\n    }\n    // Firefox 3.5 shim\n    if(document.readyState == null && document.addEventListener){\n      document.addEventListener('DOMContentLoaded', function DOMContentLoaded(){\n        document.removeEventListener('DOMContentLoaded', DOMContentLoaded, false);\n        document.readyState = 'complete';\n      }, false);\n      document.readyState = 'loading';\n    }\n    testDom(fn);\n  }\n\n  function testDom(fn){\n    if (/in/.test(document.readyState)) {\n      setTimeout(function(){\n        testDom(fn);\n      }, 9);\n    }\n    else {\n      fn();\n    }\n  }\n\n  function isDefined(target) {\n    return typeof target !== 'undefined';\n  }\n\n  function isUndefined(target) {\n    return typeof target === 'undefined';\n  }\n\n  module.exports = Client;\n\n}).call(this, typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {});\n","// import Promise from 'promise-polyfill';\nimport KeenLibrary from 'keen-core';\n//\"browsers\": [\"last 2 versions\", \"safari >= 7\"]\nimport each from 'keen-core/lib/utils/each';\nimport extend from 'keen-core/lib/utils/extend';\n\nKeenLibrary.prototype.readKey = function(str){\n  if (!arguments.length) return this.config.readKey;\n  this.config.readKey = str ? String(str) : null;\n  return this;\n};\n\nKeenLibrary.prototype.query = function(a, b){\n  if (a && b && typeof b === 'string') {\n    if (b.indexOf('/result') < 0) {\n      b += '/result';\n    }\n    return this\n      .get(this.url('queries', a, b))\n      .auth(this.readKey())\n      .send();\n  }\n  else if (a === 'dataset' && typeof b === 'object') {\n    return this\n      .get(this.url('datasets', b.name, 'results'))\n      .auth(this.readKey())\n      .send(b);\n  }\n  else if (a && b && typeof b === 'object') {\n    // Include analysis_type for downstream use\n    const q = extend({ analysis_type: a }, b);\n    return this\n      .post(this.url('queries', a))\n      .auth(this.readKey())\n      .send(q);\n  }\n  else if (a && !b) {\n    return Promise.reject({\n      error_code: 'SDKError',\n      message: \".query() called with incorrect arguments\"\n    });\n  }\n};\n\n// Keen.Query handler\n// --------------------------------\nKeenLibrary.Query = Query;\n\nKeenLibrary.prototype.run = function(q, callback){\n  const self = this;\n  const cb = callback;\n  let output;\n\n  const queries = q instanceof Array? q : [q];\n  const promises = [];\n\n  each(queries, function(query, i){\n    if (typeof query === 'string') {\n      promises.push(self.query('saved', query + '/result'));\n    }\n    else if (query instanceof KeenLibrary.Query) {\n      // Include analysis_type for downstream use\n      promises.push(self.query(query.analysis, extend({ analysis_type: query.analysis }, query.params)));\n    }\n  });\n\n  if (promises.length > 1) {\n    output = Promise.all(promises);\n  }\n  else {\n    // Only return single\n    output = promises[0];\n  }\n\n  if (cb) {\n    // Manually handle callback, as\n    // Promise.nodeify drops nulls\n    output.then(function(res){\n      cb(null, res);\n    });\n    output['catch'](function(err){\n      cb(err, null);\n    });\n  }\n\n  return output;\n};\n\nfunction Query(analysisType, params) {\n  this.analysis = analysisType;\n  this.params = {};\n  this.set(params);\n\n  // Localize timezone if none is set\n  if (this.params.timezone === void 0) {\n    this.params.timezone = new Date().getTimezoneOffset() * -60;\n  }\n}\n\nQuery.prototype.set = function(attributes) {\n  const self = this;\n  each(attributes, function(v, k){\n    let key = k;\n    let value = v;\n    if (k.match(new RegExp('[A-Z]'))) {\n      key = k.replace(/([A-Z])/g, function($1) { return '_'+$1.toLowerCase(); });\n    }\n    self.params[key] = value;\n    if (value instanceof Array) {\n      each(value, function(dv, index){\n        if (dv instanceof Array == false && typeof dv === 'object') {\n          each(dv, function(deepValue, deepKey){\n            if (deepKey.match(new RegExp('[A-Z]'))) {\n              var _deepKey = deepKey.replace(/([A-Z])/g, function($1) { return '_'+$1.toLowerCase(); });\n              delete self.params[key][index][deepKey];\n              self.params[key][index][_deepKey] = deepValue;\n            }\n          });\n        }\n      });\n    }\n  });\n  return self;\n};\n\nQuery.prototype.get = function(attribute) {\n  let key = attribute;\n  if (key.match(new RegExp('[A-Z]'))) {\n    key = key.replace(/([A-Z])/g, function($1) { return '_'+$1.toLowerCase(); });\n  }\n  if (this.params) {\n    return this.params[key] || null;\n  }\n};\n\nQuery.prototype.addFilter = function(property, operator, value) {\n  this.params.filters = this.params.filters || [];\n  this.params.filters.push({\n    'property_name': property,\n    'operator': operator,\n    'property_value': value\n  });\n  return this;\n};\n\nexport const KeenAnalysis = KeenLibrary;\nexport default KeenAnalysis;\n","import extend from 'keen-core/lib/utils/extend';\n\nimport KeenAnalysis from './index';\nimport request from './request';\nimport * as httpHandlers from './utils/http-browser';\n\nKeenAnalysis.prototype.get = new request('GET', httpHandlers);\nKeenAnalysis.prototype.post = new request('POST', httpHandlers);\nKeenAnalysis.prototype.put = new request('PUT', httpHandlers);\nKeenAnalysis.prototype.del = new request('DELETE', httpHandlers);\n\nexport const Keen = KeenAnalysis.extendLibrary(KeenAnalysis);\nexport default Keen;\n"],"sourceRoot":""}